{"openapi":"3.1.0","info":{"title":"External Resource Manager API","contact":{"name":"API Support","url":"http://exampleurl.com/contact","email":"carmelo.sciuto@cybersecurity.leonardocompany.com"},"license":{"name":"Apache 2.0","url":"https://www.apache.org/licenses/LICENSE-2.0.html"},"version":"0.0.1"},"servers":[{"url":"http://localhost:8090/","description":"localhost"},{"url":"https://cmp-kong-dev3.westeurope.cloudapp.azure.com/abs/","description":"develop"}],"tags":[{"name":"Enviroments","description":"Enviroments endpoint"},{"name":"Resources","description":"Resources operation endpoint"},{"name":"Monitoring","description":"Monitoring operation endpoint"},{"name":"Cost","description":"Cost endpoint"}],"paths":{"/v0/system/import/{systemType}":{"post":{"tags":["Enviroments"],"summary":"Start asynchronous import of systems","operationId":"importSystems","parameters":[{"name":"systemType","in":"path","required":true,"schema":{"type":"string","enum":["Azure","VMWare","CMP","Google","AzureStack","AzureStackHCI","OpenShift","AmazonWebServices","AzureStackHybridCloud","Oracle","VCloudDirector","Kubernetes","OracleExAcc","RedHatEdge","Proxmox"]}}],"requestBody":{"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"fileConfig":{"type":"string","format":"binary"}},"required":["fileConfig"]}}}},"responses":{"400":{"description":"Error starting import process","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericException"}}}},"201":{"description":"Import process started successfully","content":{"application/json":{"schema":{"type":"object"}}}}}}},"/v0/system/enviroments":{"get":{"tags":["Enviroments"],"summary":"list of available systems","operationId":"availableSystems","parameters":[{"name":"X-Tenant","in":"header","required":false,"schema":{"type":"string","default":"abstraction-layer"}},{"name":"types","in":"query","required":false,"schema":{"type":"array","items":{"type":"string"}}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"oneOf":[{"$ref":"#/components/schemas/ScheduleException"},{"$ref":"#/components/schemas/GenericException"}]}}}},"204":{"description":"no systems available","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/System"}}}}},"200":{"description":"datasource available list","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/System"}}}}}}},"post":{"tags":["Enviroments"],"summary":"add new system or modify","operationId":"addOrModify","parameters":[{"name":"X-Tenant","in":"header","required":false,"schema":{"type":"string","default":"abstraction-layer"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/System"}}},"required":true},"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"oneOf":[{"$ref":"#/components/schemas/ScheduleException"},{"$ref":"#/components/schemas/GenericException"}]}}}},"201":{"description":"created system"},"418":{"description":"error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericException"}}}}}}},"/v0/system/enviroments/check/publicSubscriptions":{"post":{"tags":["Enviroments"],"summary":"check public azure subscriptions","operationId":"checkPublicAzureSubscriptions","parameters":[{"name":"isAppCost","in":"query","required":true,"schema":{"type":"boolean"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/System"}}},"required":true},"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"oneOf":[{"$ref":"#/components/schemas/ScheduleException"},{"$ref":"#/components/schemas/GenericException"}]}}}},"200":{"description":"created system","content":{"application/json":{"schema":{"type":"array","items":{"type":"string"}}}}},"201":{"description":"credentials error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericException"}}}}}}},"/v0/system/enviroments/check/privateSubscriptions":{"post":{"tags":["Enviroments"],"summary":"check private azure subscriptions","operationId":"checkPrivateAzureSubscriptions","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/System"}}},"required":true},"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"oneOf":[{"$ref":"#/components/schemas/ScheduleException"},{"$ref":"#/components/schemas/GenericException"}]}}}},"200":{"description":"created system","content":{"application/json":{"schema":{"type":"array","items":{"type":"string"}}}}},"201":{"description":"credentials error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericException"}}}}}}},"/v0/system/enviroments/check/activeProjects":{"post":{"tags":["Enviroments"],"summary":"checks active Google projects","operationId":"checkActiveProjects","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/System"}}},"required":true},"responses":{"400":{"description":"Unavailable projects","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericException"}}}},"200":{"description":"Available projects","content":{"application/json":{"schema":{"type":"array","items":{"type":"string"}}}}}}}},"/v0/system-folder/upsert":{"post":{"tags":["EnvironmentFolder"],"summary":"add or modify a folder system","operationId":"addOrModify_1","parameters":[{"name":"X-Tenant","in":"header","required":false,"schema":{"type":"string","default":"abstraction-layer"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/System"}}},"required":true},"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"oneOf":[{"$ref":"#/components/schemas/ScheduleException"},{"$ref":"#/components/schemas/GenericException"}]}}}},"201":{"description":"created folder system"},"418":{"description":"error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericException"}}}}}}},"/v0/resource/public":{"post":{"tags":["Enviroments"],"summary":"publishing resources on Kafka UI","operationId":"publishingResources","parameters":[{"name":"X-Tenant","in":"header","required":false,"schema":{"type":"string","default":"abstraction-layer"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"array","items":{"type":"string"}}}},"required":true},"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"oneOf":[{"$ref":"#/components/schemas/ScheduleException"},{"$ref":"#/components/schemas/GenericException"}]}}}},"201":{"description":"publishing resources"},"200":{"description":"error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericException"}}}}}}},"/v0/resource/addCatalogueItem":{"post":{"tags":["Enviroments"],"summary":"publishing catalogue storage resources on Kafka UI","operationId":"storagePrice","parameters":[{"name":"X-Tenant","in":"header","required":false,"schema":{"type":"string","default":"abstraction-layer"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddResourceRequestBean"}}},"required":true},"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"oneOf":[{"$ref":"#/components/schemas/ScheduleException"},{"$ref":"#/components/schemas/GenericException"}]}}}},"200":{"description":"available cost list","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/System"}}}}}}}},"/v0/authorize":{"post":{"tags":["Authorization"],"summary":"checks system's authorization","operationId":"checkAuthorizationToCreation","parameters":[{"name":"authType","in":"query","required":false,"schema":{"type":"string","default":"vault"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/System"}}},"required":true},"responses":{"400":{"description":"unauthorized system","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericException"}}}},"200":{"description":"authorized system"}}}},"/v0/authorize/check/publicSubscriptions":{"post":{"tags":["Authorization"],"summary":"check public azure subscriptions","operationId":"checkPublicAzureSubscriptions_1","parameters":[{"name":"isAppCost","in":"query","required":true,"schema":{"type":"boolean"}},{"name":"authType","in":"query","required":false,"schema":{"type":"string","default":"vault"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/System"}}},"required":true},"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"oneOf":[{"$ref":"#/components/schemas/ScheduleException"},{"$ref":"#/components/schemas/GenericException"}]}}}},"200":{"description":"created system","content":{"application/json":{"schema":{"type":"array","items":{"type":"string"}}}}},"201":{"description":"credentials error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericException"}}}}}}},"/v0/authorize/check/publicStorage":{"post":{"tags":["Authorization"],"summary":"check public azure Storage Accounts","operationId":"checkStorageAccount","parameters":[{"name":"isAppCost","in":"query","required":true,"schema":{"type":"boolean"}},{"name":"authType","in":"query","required":false,"schema":{"type":"string","default":"vault"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/System"}}},"required":true},"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"oneOf":[{"$ref":"#/components/schemas/ScheduleException"},{"$ref":"#/components/schemas/GenericException"}]}}}},"200":{"description":"created system","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SelectBean"}}}}},"201":{"description":"credentials error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericException"}}}}}}},"/v0/authorize/check/privateSubscriptions":{"post":{"tags":["Authorization"],"summary":"check private azure subscriptions","operationId":"checkPrivateAzureSubscriptions_1","parameters":[{"name":"authType","in":"query","required":false,"schema":{"type":"string","default":"vault"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/System"}}},"required":true},"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"oneOf":[{"$ref":"#/components/schemas/ScheduleException"},{"$ref":"#/components/schemas/GenericException"}]}}}},"200":{"description":"created system","content":{"application/json":{"schema":{"type":"array","items":{"type":"string"}}}}},"201":{"description":"credentials error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericException"}}}}}}},"/v0/system/type":{"get":{"tags":["Enviroments"],"summary":"list accepted system types","operationId":"getSystemTypes","responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"oneOf":[{"$ref":"#/components/schemas/ScheduleException"},{"$ref":"#/components/schemas/GenericException"}]}}}},"200":{"description":"list of available system types","content":{"application/json":{"schema":{"type":"array","items":{"type":"string"}}}}},"201":{"description":"no avialabile system type list","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericException"}}}}}}},"/v0/system/supported":{"get":{"tags":["Enviroments"],"summary":"list accepted system types","operationId":"getSupportedSystemTypes","responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"oneOf":[{"$ref":"#/components/schemas/ScheduleException"},{"$ref":"#/components/schemas/GenericException"}]}}}},"200":{"description":"List of available cloud provider types","content":{"application/json":{"schema":{"type":"array","items":{"type":"string"}}}}},"201":{"description":"No avialabile cloud provider types list","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericException"}}}}}}},"/v0/system/refresh/{refreshType}":{"get":{"tags":["Enviroments"],"summary":"refreshes specified resources of each systems in repository","operationId":"refresh","parameters":[{"name":"refreshType","in":"path","required":true,"schema":{"type":"string"}},{"name":"X-Batch","in":"header","required":false,"schema":{"type":"boolean","default":false}},{"name":"X-Tenant","in":"header","required":false,"schema":{"type":"string","default":"abstraction-layer"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"oneOf":[{"$ref":"#/components/schemas/ScheduleException"},{"$ref":"#/components/schemas/GenericException"}]}}}},"200":{"description":"refreshed systems"},"201":{"description":"error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericException"}}}}}}},"/v0/system/locations/{systemType}":{"get":{"tags":["Enviroments"],"summary":"list accepted system locations","operationId":"getSystemLocations","parameters":[{"name":"systemType","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"oneOf":[{"$ref":"#/components/schemas/ScheduleException"},{"$ref":"#/components/schemas/GenericException"}]}}}},"200":{"description":"list of available system locations","content":{"application/json":{"schema":{"type":"array","items":{"type":"string"}}}}},"201":{"description":"no avialabile system location list","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericException"}}}}}}},"/v0/system/imports":{"get":{"tags":["Enviroments"],"summary":"Get all import records","operationId":"getAllImports","responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"oneOf":[{"$ref":"#/components/schemas/ScheduleException"},{"$ref":"#/components/schemas/GenericException"}]}}}},"200":{"description":"List of all import records","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Import"}}}}}}}},"/v0/system/enviroments/{uuid}":{"get":{"tags":["Enviroments"],"summary":"get system by uuid","operationId":"getOne","parameters":[{"name":"uuid","in":"path","required":true,"schema":{"type":"string","pattern":"\\b[0-9a-f]{8}\\b-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-\\b[0-9a-f]{12}\\b"}},{"name":"X-Tenant","in":"header","required":false,"schema":{"type":"string","default":"abstraction-layer"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"oneOf":[{"$ref":"#/components/schemas/ScheduleException"},{"$ref":"#/components/schemas/GenericException"}]}}}},"200":{"description":"get one system","content":{"application/json":{"schema":{"$ref":"#/components/schemas/System"}}}},"201":{"description":"no system available","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericException"}}}}}},"delete":{"tags":["Enviroments"],"summary":"delete system","operationId":"delete","parameters":[{"name":"uuid","in":"path","required":true,"schema":{"type":"string","pattern":"\\b[0-9a-f]{8}\\b-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-\\b[0-9a-f]{12}\\b"}},{"name":"X-Tenant","in":"header","required":false,"schema":{"type":"string","default":"abstraction-layer"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"oneOf":[{"$ref":"#/components/schemas/ScheduleException"},{"$ref":"#/components/schemas/GenericException"}]}}}},"204":{"description":"deleted system","content":{"application/json":{}}},"201":{"description":"error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericException"}}}}}}},"/v0/system/checkStates":{"get":{"tags":["Enviroments"],"summary":"check state of each systems in repository","operationId":"checkStates","responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"oneOf":[{"$ref":"#/components/schemas/ScheduleException"},{"$ref":"#/components/schemas/GenericException"}]}}}},"200":{"description":"checked systems"},"201":{"description":"error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericException"}}}}}}},"/v0/system-folder/{uuid}":{"get":{"tags":["EnvironmentFolder"],"summary":"get folder system by uuid","operationId":"getOne_1","parameters":[{"name":"uuid","in":"path","required":true,"schema":{"type":"string","pattern":"\\b[0-9a-f]{8}\\b-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-\\b[0-9a-f]{12}\\b"}},{"name":"X-Tenant","in":"header","required":false,"schema":{"type":"string","default":"abstraction-layer"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"oneOf":[{"$ref":"#/components/schemas/ScheduleException"},{"$ref":"#/components/schemas/GenericException"}]}}}},"200":{"description":"get one folder system","content":{"application/json":{"schema":{"$ref":"#/components/schemas/System"}}}}}},"delete":{"tags":["EnvironmentFolder"],"summary":"delete folder system by uuid","operationId":"delete_1","parameters":[{"name":"uuid","in":"path","required":true,"schema":{"type":"string","pattern":"\\b[0-9a-f]{8}\\b-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-\\b[0-9a-f]{12}\\b"}},{"name":"X-Tenant","in":"header","required":false,"schema":{"type":"string","default":"abstraction-layer"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"oneOf":[{"$ref":"#/components/schemas/ScheduleException"},{"$ref":"#/components/schemas/GenericException"}]}}}},"204":{"description":"deleted folder system","content":{"application/json":{}}}}}},"/v0/system-folder/{uuid}/systems":{"get":{"tags":["EnvironmentFolder"],"summary":"get sub-systems into folder system by uuid","operationId":"getSubSystemsByFolder","parameters":[{"name":"uuid","in":"path","required":true,"schema":{"type":"string","pattern":"\\b[0-9a-f]{8}\\b-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-\\b[0-9a-f]{12}\\b"}},{"name":"X-Tenant","in":"header","required":false,"schema":{"type":"string","default":"abstraction-layer"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"oneOf":[{"$ref":"#/components/schemas/ScheduleException"},{"$ref":"#/components/schemas/GenericException"}]}}}},"200":{"description":"get sub-systems into a folder system","content":{"application/json":{"schema":{"$ref":"#/components/schemas/System"}}}}}}},"/v0/system-folder/tree":{"get":{"tags":["EnvironmentFolder"],"summary":"tree of available folders and systems","operationId":"availableSystemsAndFolders","parameters":[{"name":"X-Tenant","in":"header","required":false,"schema":{"type":"string","default":"abstraction-layer"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"oneOf":[{"$ref":"#/components/schemas/ScheduleException"},{"$ref":"#/components/schemas/GenericException"}]}}}},"200":{"description":"available system folder list","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/System"}}}}}}}},"/v0/system-folder/refresh":{"get":{"tags":["EnvironmentFolder"],"summary":"refreshes specified systems of each folder system in repository","operationId":"refresh_1","responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"oneOf":[{"$ref":"#/components/schemas/ScheduleException"},{"$ref":"#/components/schemas/GenericException"}]}}}},"200":{"description":"refreshed folder systems"}}}},"/v0/system-folder/minimal/tree":{"get":{"tags":["EnvironmentFolder"],"summary":"Minimal tree of available folders and systems","operationId":"availableSystemsAndFoldersPaginated","parameters":[{"name":"X-Tenant","in":"header","required":false,"schema":{"type":"string","default":"abstraction-layer"}},{"name":"items","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":20}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"oneOf":[{"$ref":"#/components/schemas/ScheduleException"},{"$ref":"#/components/schemas/GenericException"}]}}}},"200":{"description":"Paginated minimal system folder list","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PagedListDTO"}}}}}}},"/v0/system-folder/list":{"get":{"tags":["EnvironmentFolder"],"summary":"list of available system folders","operationId":"availableSystemFolders","parameters":[{"name":"X-Tenant","in":"header","required":false,"schema":{"type":"string","default":"abstraction-layer"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"oneOf":[{"$ref":"#/components/schemas/ScheduleException"},{"$ref":"#/components/schemas/GenericException"}]}}}},"200":{"description":"available system folder list","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/System"}}}}}}}},"/v0/security/assessments":{"get":{"tags":["Security"],"summary":"list of assessments","operationId":"assessments","parameters":[{"name":"systemUuid","in":"query","required":false,"schema":{"type":"string","default":""}},{"name":"X-Batch","in":"header","required":false,"schema":{"type":"boolean","default":false}},{"name":"X-Tenant","in":"header","required":false,"schema":{"type":"string","default":"abstraction-layer"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"oneOf":[{"$ref":"#/components/schemas/ScheduleException"},{"$ref":"#/components/schemas/GenericException"}]}}}},"204":{"description":"no assessments available"},"200":{"description":"assessments list","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Assessment"}}}}}}}},"/v0/security/assessments/{systemType}":{"get":{"tags":["Security"],"summary":"list of assessments","operationId":"assessments_1","parameters":[{"name":"systemType","in":"path","required":true,"schema":{"type":"string","enum":["Azure","VMWare","CMP","Google","AzureStack","AzureStackHCI","OpenShift","AmazonWebServices","AzureStackHybridCloud","Oracle","VCloudDirector","Kubernetes","OracleExAcc","RedHatEdge","Proxmox"]}},{"name":"systemUuid","in":"query","required":false,"schema":{"type":"string","default":""}},{"name":"X-Batch","in":"header","required":false,"schema":{"type":"boolean","default":false}},{"name":"X-Tenant","in":"header","required":false,"schema":{"type":"string","default":"abstraction-layer"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"oneOf":[{"$ref":"#/components/schemas/ScheduleException"},{"$ref":"#/components/schemas/GenericException"}]}}}},"204":{"description":"no assessments available"},"200":{"description":"assessments list","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Assessment"}}}}}}}},"/v0/monitoring/quotas/{systemType}":{"get":{"tags":["Monitoring"],"summary":"Batch quotas discovery","operationId":"quotas","parameters":[{"name":"systemType","in":"path","required":true,"schema":{"type":"string","enum":["Azure","VMWare","CMP","Google","AzureStack","AzureStackHCI","OpenShift","AmazonWebServices","AzureStackHybridCloud","Oracle","VCloudDirector","Kubernetes","OracleExAcc","RedHatEdge","Proxmox"]}},{"name":"systemUuid","in":"query","required":false,"schema":{"type":"string","default":""}},{"name":"X-Batch","in":"header","required":false,"schema":{"type":"boolean","default":false}},{"name":"X-Tenant","in":"header","required":false,"schema":{"type":"string","default":"abstraction-layer"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"oneOf":[{"$ref":"#/components/schemas/ScheduleException"},{"$ref":"#/components/schemas/GenericException"}]}}}},"200":{"description":"no quotas available"}}}},"/v0/monitoring/quotas":{"get":{"tags":["Monitoring"],"summary":"Batch quotas discovery","operationId":"quotas_1","parameters":[{"name":"systemUuid","in":"query","required":false,"schema":{"type":"string","default":""}},{"name":"X-Batch","in":"header","required":false,"schema":{"type":"boolean","default":false}},{"name":"X-Tenant","in":"header","required":false,"schema":{"type":"string","default":"abstraction-layer"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"oneOf":[{"$ref":"#/components/schemas/ScheduleException"},{"$ref":"#/components/schemas/GenericException"}]}}}},"200":{"description":"no quotas available"}}}},"/v0/monitoring/metrics/{duration}":{"get":{"tags":["Monitoring"],"summary":"list of metrics from a specific duration","operationId":"metrics","parameters":[{"name":"duration","in":"path","required":true,"schema":{"type":"string"}},{"name":"systemUuid","in":"query","required":false,"schema":{"type":"string","default":""}},{"name":"X-Batch","in":"header","required":false,"schema":{"type":"boolean","default":false}},{"name":"X-Tenant","in":"header","required":false,"schema":{"type":"string","default":"abstraction-layer"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"oneOf":[{"$ref":"#/components/schemas/ScheduleException"},{"$ref":"#/components/schemas/GenericException"}]}}}},"200":{"description":"no metrics available"}}}},"/v0/monitoring/metrics/{duration}/{systemType}":{"get":{"tags":["Monitoring"],"summary":"list of metrics from a specific duration","operationId":"metrics_1","parameters":[{"name":"duration","in":"path","required":true,"schema":{"type":"string"}},{"name":"systemType","in":"path","required":true,"schema":{"type":"string","enum":["Azure","VMWare","CMP","Google","AzureStack","AzureStackHCI","OpenShift","AmazonWebServices","AzureStackHybridCloud","Oracle","VCloudDirector","Kubernetes","OracleExAcc","RedHatEdge","Proxmox"]}},{"name":"systemUuid","in":"query","required":false,"schema":{"type":"string","default":""}},{"name":"X-Batch","in":"header","required":false,"schema":{"type":"boolean","default":false}},{"name":"X-Tenant","in":"header","required":false,"schema":{"type":"string","default":"abstraction-layer"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"oneOf":[{"$ref":"#/components/schemas/ScheduleException"},{"$ref":"#/components/schemas/GenericException"}]}}}},"200":{"description":"no metrics available"}}}},"/v0/image/refresh/{systemType}":{"get":{"tags":["Images"],"summary":"refresh images","operationId":"refresh_2","parameters":[{"name":"systemType","in":"path","required":true,"schema":{"type":"string","enum":["Azure","VMWare","CMP","Google","AzureStack","AzureStackHCI","OpenShift","AmazonWebServices","AzureStackHybridCloud","Oracle","VCloudDirector","Kubernetes","OracleExAcc","RedHatEdge","Proxmox"]}},{"name":"systemUuid","in":"query","required":false,"schema":{"type":"string","default":""}},{"name":"X-Batch","in":"header","required":false,"schema":{"type":"boolean","default":false}},{"name":"X-Tenant","in":"header","required":false,"schema":{"type":"string","default":"abstraction-layer"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"oneOf":[{"$ref":"#/components/schemas/ScheduleException"},{"$ref":"#/components/schemas/GenericException"}]}}}},"200":{"description":"refresh available images for a system"},"201":{"description":"error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericException"}}}}}}},"/v0/image/refresh/":{"get":{"tags":["Images"],"summary":"refresh images","operationId":"refresh_3","parameters":[{"name":"systemUuid","in":"query","required":false,"schema":{"type":"string","default":""}},{"name":"X-Batch","in":"header","required":false,"schema":{"type":"boolean","default":false}},{"name":"X-Tenant","in":"header","required":false,"schema":{"type":"string","default":"abstraction-layer"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"oneOf":[{"$ref":"#/components/schemas/ScheduleException"},{"$ref":"#/components/schemas/GenericException"}]}}}},"200":{"description":"refresh available images for a system"},"201":{"description":"error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericException"}}}}}}},"/v0/cost/notifywithDayforSubsystem/{day}/{uuid}":{"get":{"tags":["Cost"],"summary":"list of costs of the resources","operationId":"notifywithDayforSubsystem","parameters":[{"name":"day","in":"path","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"uuid","in":"path","required":true,"schema":{"type":"string"}},{"name":"X-Tenant","in":"header","required":false,"schema":{"type":"string","default":"abstraction-layer"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"oneOf":[{"$ref":"#/components/schemas/ScheduleException"},{"$ref":"#/components/schemas/GenericException"}]}}}},"204":{"description":"no costs to be notified"},"200":{"description":"notified costs","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/System"}}}}}}}},"/v0/cost/notifywithDayforSubsystem":{"get":{"tags":["Cost"],"summary":"list of costs of the resources","operationId":"notifywithDayforSubsystem_1","parameters":[{"name":"X-Tenant","in":"header","required":false,"schema":{"type":"string","default":"abstraction-layer"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"oneOf":[{"$ref":"#/components/schemas/ScheduleException"},{"$ref":"#/components/schemas/GenericException"}]}}}},"204":{"description":"no costs to be notified"},"200":{"description":"notified costs","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/System"}}}}}}}},"/v0/cost/notifywithDay":{"get":{"tags":["Cost"],"summary":"list of costs of the resources","operationId":"notifywithDay","parameters":[{"name":"X-Tenant","in":"header","required":false,"schema":{"type":"string","default":"abstraction-layer"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"oneOf":[{"$ref":"#/components/schemas/ScheduleException"},{"$ref":"#/components/schemas/GenericException"}]}}}},"204":{"description":"no costs to be notified"},"200":{"description":"notified costs","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/System"}}}}}}}},"/v0/cost/notifywithDay/{day}":{"get":{"tags":["Cost"],"summary":"list of costs of the resources","operationId":"notifywithDay_1","parameters":[{"name":"day","in":"path","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"X-Tenant","in":"header","required":false,"schema":{"type":"string","default":"abstraction-layer"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"oneOf":[{"$ref":"#/components/schemas/ScheduleException"},{"$ref":"#/components/schemas/GenericException"}]}}}},"204":{"description":"no costs to be notified"},"200":{"description":"notified costs","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/System"}}}}}}}},"/v0/cost/notify":{"get":{"tags":["Cost"],"summary":"list of costs of the resources","operationId":"costsv2","parameters":[{"name":"systemUuid","in":"query","required":false,"schema":{"type":"string","default":""}},{"name":"days","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"X-Batch","in":"header","required":false,"schema":{"type":"boolean","default":false}},{"name":"X-Tenant","in":"header","required":false,"schema":{"type":"string","default":"abstraction-layer"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"oneOf":[{"$ref":"#/components/schemas/ScheduleException"},{"$ref":"#/components/schemas/GenericException"}]}}}},"204":{"description":"no costs to be notified"},"200":{"description":"notified costs","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/System"}}}}}}}},"/v0/batch/all":{"get":{"tags":["Batch"],"summary":"run batch task for each tenant","operationId":"runBatchTasksForEachTenant","parameters":[{"name":"duration","in":"query","required":true,"schema":{"type":"string"}},{"name":"systemType","in":"query","required":false,"schema":{"type":"string","enum":["Azure","VMWare","CMP","Google","AzureStack","AzureStackHCI","OpenShift","AmazonWebServices","AzureStackHybridCloud","Oracle","VCloudDirector","Kubernetes","OracleExAcc","RedHatEdge","Proxmox"]}},{"name":"action","in":"query","required":false,"schema":{"type":"string","enum":["system_cost","system_quotas","all_metrics_for","system_assessment","refresh_images","refresh_catalogue","refresh_inventory","deleted_resources_refresh","refresh_siem"]}},{"name":"X-Batch","in":"header","required":false,"schema":{"type":"boolean","default":false}},{"name":"X-Tenant","in":"header","required":false,"schema":{"type":"string","default":"abstraction-layer"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"oneOf":[{"$ref":"#/components/schemas/ScheduleException"},{"$ref":"#/components/schemas/GenericException"}]}}}},"204":{"description":"failed run batch tasks"},"200":{"description":"running batch tasks"}}}}},"components":{"schemas":{"GenericException":{"type":"object","properties":{"cause":{"type":"object","properties":{"stackTrace":{"type":"array","items":{"type":"object","properties":{"classLoaderName":{"type":"string"},"moduleName":{"type":"string"},"moduleVersion":{"type":"string"},"methodName":{"type":"string"},"fileName":{"type":"string"},"lineNumber":{"type":"integer","format":"int32"},"className":{"type":"string"},"nativeMethod":{"type":"boolean"}}}},"message":{"type":"string"},"localizedMessage":{"type":"string"}}},"stackTrace":{"type":"array","items":{"type":"object","properties":{"classLoaderName":{"type":"string"},"moduleName":{"type":"string"},"moduleVersion":{"type":"string"},"methodName":{"type":"string"},"fileName":{"type":"string"},"lineNumber":{"type":"integer","format":"int32"},"className":{"type":"string"},"nativeMethod":{"type":"boolean"}}}},"errorCode":{"type":"string"},"errorMessage":{"type":"string"},"message":{"type":"string"},"suppressed":{"type":"array","items":{"type":"object","properties":{"stackTrace":{"type":"array","items":{"type":"object","properties":{"classLoaderName":{"type":"string"},"moduleName":{"type":"string"},"moduleVersion":{"type":"string"},"methodName":{"type":"string"},"fileName":{"type":"string"},"lineNumber":{"type":"integer","format":"int32"},"className":{"type":"string"},"nativeMethod":{"type":"boolean"}}}},"message":{"type":"string"},"localizedMessage":{"type":"string"}}}},"localizedMessage":{"type":"string"}}},"ScheduleException":{"type":"object","properties":{"cause":{"type":"object","properties":{"stackTrace":{"type":"array","items":{"type":"object","properties":{"classLoaderName":{"type":"string"},"moduleName":{"type":"string"},"moduleVersion":{"type":"string"},"methodName":{"type":"string"},"fileName":{"type":"string"},"lineNumber":{"type":"integer","format":"int32"},"className":{"type":"string"},"nativeMethod":{"type":"boolean"}}}},"message":{"type":"string"},"localizedMessage":{"type":"string"}}},"stackTrace":{"type":"array","items":{"type":"object","properties":{"classLoaderName":{"type":"string"},"moduleName":{"type":"string"},"moduleVersion":{"type":"string"},"methodName":{"type":"string"},"fileName":{"type":"string"},"lineNumber":{"type":"integer","format":"int32"},"className":{"type":"string"},"nativeMethod":{"type":"boolean"}}}},"errorMessage":{"type":"string"},"errorCode":{"type":"string"},"message":{"type":"string"},"suppressed":{"type":"array","items":{"type":"object","properties":{"stackTrace":{"type":"array","items":{"type":"object","properties":{"classLoaderName":{"type":"string"},"moduleName":{"type":"string"},"moduleVersion":{"type":"string"},"methodName":{"type":"string"},"fileName":{"type":"string"},"lineNumber":{"type":"integer","format":"int32"},"className":{"type":"string"},"nativeMethod":{"type":"boolean"}}}},"message":{"type":"string"},"localizedMessage":{"type":"string"}}}},"localizedMessage":{"type":"string"}}},"DestinationStorage":{"type":"object","properties":{"storageId":{"type":"string"},"container":{"type":"string"},"rootFolderPath":{"type":"string"},"fileName":{"type":"string"},"lastModified":{"type":"string","format":"date-time"},"start":{"type":"string","format":"date"},"end":{"type":"string","format":"date"},"recursive":{"type":"boolean"}}},"QuotaAlertConfiguration":{"type":"object","properties":{"uuid":{"type":"string"},"creationDate":{"type":"string","format":"date-time"},"tenantID":{"type":"string"},"schedule":{"type":"string"},"alertType":{"type":"string","enum":["QUOTA"]},"alertSendType":{"type":"string"},"alertSendFormat":{"type":"string"},"emails":{"type":"array","items":{"type":"string"}},"systemUuids":{"type":"array","items":{"type":"string"}},"quotaType":{"type":"string"},"threshold":{"type":"integer","format":"int32"},"status":{"type":"string"},"lastScheduleDate":{"type":"string","format":"date-time"},"firstScheduleDate":{"type":"string","format":"date-time"},"endScheduleDate":{"type":"string","format":"date-time"}}},"ServiceAccountGoogle":{"type":"object","properties":{"type":{"type":"string"},"project_id":{"type":"string"},"private_key_id":{"type":"string"},"private_key":{"type":"string"},"client_email":{"type":"string","pattern":"^[a-zA-Z0-9_!#$%&ï¿½*+/=?`{|}~^.-]+@[a-zA-Z0-9.-]+$"},"client_id":{"type":"string"},"auth_uri":{"type":"string"},"token_uri":{"type":"string"},"auth_provider_x509_cert_url":{"type":"string"},"client_x509_cert_url":{"type":"string"}}},"System":{"type":"object","properties":{"id":{"type":"string"},"uuid":{"type":"string","pattern":"\\b[0-9a-f]{8}\\b-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-\\b[0-9a-f]{12}\\b"},"name":{"type":"string"},"version":{"type":"string"},"type":{"type":"string","enum":["Azure","VMWare","CMP","Google","AzureStack","AzureStackHCI","OpenShift","AmazonWebServices","AzureStackHybridCloud","Oracle","VCloudDirector","Kubernetes","OracleExAcc","RedHatEdge","Proxmox"]},"parent":{"type":"boolean"},"creationDate":{"type":"string"},"state":{"type":"string"},"properties":{"$ref":"#/components/schemas/SystemProperties"},"onPremises":{"type":"boolean"}}},"SystemProperties":{"type":"object","properties":{"username":{"type":"string"},"password":{"type":"string"},"clientId":{"type":"string"},"clientSecret":{"type":"string"},"tenantId":{"type":"string"},"subscriptionId":{"type":"string"},"dayCost":{"type":"integer","format":"int32"},"costClientId":{"type":"string"},"costClientSecret":{"type":"string"},"costTenantId":{"type":"string"},"costSubscriptionId":{"type":"string"},"bridgeIp":{"type":"string"},"realm":{"type":"string"},"generateByCMP":{"type":"boolean"},"imported":{"type":"boolean"},"quotaAlertConfiguration":{"$ref":"#/components/schemas/QuotaAlertConfiguration"},"port":{"type":"integer","format":"int32"},"url":{"type":"string","pattern":"^(https?)://[-a-zA-Z0-9+&@#/%?=~_|!:,.;]*[-a-zA-Z0-9+&@#/%=~_|](?<!/)$"},"serviceAccount":{"$ref":"#/components/schemas/ServiceAccountGoogle"},"location":{"type":"string"},"totalCPU":{"type":"integer","format":"int32"},"totalRAM":{"type":"integer","format":"int32"},"totalStorage":{"type":"integer","format":"int32"},"armEndpoint":{"type":"string","pattern":"^(https?)://[-a-zA-Z0-9+&@#/%?=~_|!:,.;]*[-a-zA-Z0-9+&@#/%=~_|]"},"vmwareTags":{"type":"string"},"workspaceId":{"type":"string"},"discoveryProjectId":{"type":"string"},"costExportProjectId":{"type":"string"},"kmsProjectId":{"type":"string"},"catalogPriceDiscount":{"type":"number","format":"double"},"providerPriceDiscount":{"type":"number","format":"double"},"odlID":{"type":"string"},"labelSelectors":{"type":"string"},"clusterAdmin":{"type":"boolean"},"namespaces":{"type":"array","items":{"type":"string"}},"storageAccountId":{"type":"string"},"destinationStorage":{"type":"array","items":{"$ref":"#/components/schemas/DestinationStorage"}},"fromBillingStorage":{"type":"boolean"},"ncUri":{"type":"string"},"clusterName":{"type":"string"},"needBridge":{"type":"boolean"},"virtualNetwork":{"type":"string"},"fingerprint":{"type":"string"},"region":{"type":"string"},"keyFile":{"type":"string"},"token":{"type":"string"},"providerVdc":{"type":"boolean"},"devopsOrganization":{"type":"string"},"devopsProject":{"type":"string"},"devopsPat":{"type":"string"},"usageAggregation":{"type":"boolean"},"certificateData":{"type":"string"},"uri":{"type":"string"},"context":{"type":"string"},"userCertificateData":{"type":"string"},"userKeyData":{"type":"string"},"userToken":{"type":"string"},"rateCodeBased":{"type":"boolean"},"roleBased":{"type":"boolean"},"roleId":{"type":"string"},"roleAuditId":{"type":"string"},"configAggregator":{"type":"string"},"costBucketPath":{"type":"string"},"costInUSD":{"type":"boolean"}}},"AddResourceParam":{"type":"object","properties":{"name":{"type":"string"},"value":{"type":"string"}}},"AddResourceRequestBean":{"type":"object","properties":{"uuid":{"type":"string"},"type":{"type":"string","enum":["VM","STORAGE","NETWORK","INTERFACE","SERVICE","BLUEPRINT","K8S","RESOURCEGROUP","POOLPROFILE","SUBNET","PUBLICIP","FIREWALLRULES","TAGS","OTHER","SECURITY","NAMESPACE","AIMODEL","AIPLATFORM","POD","DEPLOYMENT","STATEFULSET","SECRET","CONFIGMAP","PERSISTENTVOLUMECLAIM","K8SSERVICE","INGRESS","NETWORKPOLICY","PAAS","VMCONFIDENTIAL","SKU","EDGE","NODE","CLUSTER"]},"name":{"type":"string"},"param":{"type":"array","items":{"$ref":"#/components/schemas/AddResourceParam"}}}},"SelectBean":{"type":"object","properties":{"id":{"type":"string"},"label":{"type":"string"}}},"Import":{"type":"object","properties":{"id":{"type":"string"},"importType":{"type":"string","enum":["TENANTS","SUBSYSTEMS"]},"startTime":{"type":"string","format":"date-time"},"endTime":{"type":"string","format":"date-time"},"status":{"type":"string","enum":["ONGOING","COMPLETED","WARNING","NOT_STARTED","FAILED"]},"fileName":{"type":"string"},"message":{"type":"string"},"totalRows":{"type":"integer","format":"int32"},"successRows":{"type":"integer","format":"int32"}}},"PagedListDTO":{"type":"object","properties":{"resources":{},"total":{"type":"integer","format":"int64"}}},"Assessment":{"type":"object","properties":{"assessmentUuid":{"type":"string"},"resourceStatus":{"type":"string"},"subscriptionId":{"type":"string"},"resourceUuid":{"type":"string"},"resourceType":{"type":"string","enum":["VM","STORAGE","NETWORK","INTERFACE","SERVICE","BLUEPRINT","K8S","RESOURCEGROUP","POOLPROFILE","SUBNET","PUBLICIP","FIREWALLRULES","TAGS","OTHER","SECURITY","NAMESPACE","AIMODEL","AIPLATFORM","POD","DEPLOYMENT","STATEFULSET","SECRET","CONFIGMAP","PERSISTENTVOLUMECLAIM","K8SSERVICE","INGRESS","NETWORKPOLICY","PAAS","VMCONFIDENTIAL","SKU","EDGE","NODE","CLUSTER"]},"resourceSubType":{"type":"string","enum":["APPLICATIONGATEWAY","CDNFRONTDOOR","LOADBALANCER","LOCALNETWORKGATEWAY","NETWORKINTERFACE","NETWORKSECURITYGROUP","PUBLICIP","VIRTUALNETWORK","VIRTUALNETWORKGATEWAY","CONNECTION","APPLICATIONSECURITYGROUP","WEBAPPLICATIONFIREWALL","BASTION","FIREWALL","FIREWALLPOLICY"]},"systemType":{"type":"string","enum":["Azure","VMWare","CMP","Google","AzureStack","AzureStackHCI","OpenShift","AmazonWebServices","AzureStackHybridCloud","Oracle","VCloudDirector","Kubernetes","OracleExAcc","RedHatEdge","Proxmox"]},"systemUuid":{"type":"string"},"details":{"$ref":"#/components/schemas/AssessmentDetails"}}},"AssessmentDetails":{"type":"object","properties":{"severity":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"categoryList":{"type":"array","items":{"type":"string"}},"threatList":{"type":"array","items":{"type":"string"}},"userImpact":{"type":"string"},"implementationEffort":{"type":"string"},"policyUuid":{"type":"string"}}}}}}